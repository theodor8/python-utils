from matrix import *
# from stats import *
# from calc import *

H = Mat([
    [0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0],
    [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],
    [0, 0, 0, 0.5, 0.5, 0, 0, 0, 0, 0],
    [0, 0, 0.5, 0, 0, 0.5, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
    [1/3, 0, 0, 0, 0, 1/3, 0, 0, 1/3, 0],
    [0, 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0],
    [0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1],
    [0, 0, 0, 0, 1, 0, 0, 0, 0, 0]
])

n = 10
p = 0.85

P = p*H + (1 - p) / n * Mat.ones(n, n)
I = Mat.unit(n)

Z = (P - I).copy()
for i in range(n):
    Z.m[i][0] = 1

u = RowVec(*([1] + [0] * (n - 1)))

print(u * Z.invert())
